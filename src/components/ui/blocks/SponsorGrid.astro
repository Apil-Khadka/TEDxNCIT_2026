---
interface SponsorGridProps {
  sponsors: Array<{
    id: string;
    name: string;
    type: string;
    description: string;
    longDescription: string;
    url: string;
    img: { src: string };
  }>;
}

const { sponsors } = Astro.props;
---

<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6">
  {sponsors.map((s) => (
    <button
      onclick={`window.openModal('${s.id}')`}
      class="relative group p-5 bg-white dark:bg-neutral-800 rounded-xl border-2 border-gray-200 dark:border-neutral-700 hover:border-red-400 dark:hover:border-red-500 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 flex flex-col items-center overflow-hidden"
    >
      {/* Decorative Glow Overlay */}
      <div class="absolute top-0 right-0 -mt-16 -mr-16 w-48 h-48 bg-red-100 dark:bg-red-900/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"></div>

      {/* Logo */}
      <div class="h-16 w-full flex items-center justify-center mb-3 grayscale group-hover:grayscale-0 transition-all duration-300 relative z-10">
        <img 
          src={s.img.src} 
          alt={s.name} 
          class="max-h-full max-w-full object-contain" 
        />
      </div>
      
      {/* Name */}
      <p class="text-xs font-semibold text-gray-600 dark:text-gray-400 group-hover:text-red-500 transition-colors duration-300 text-center line-clamp-2 relative z-10">
        {s.name}
      </p>

      {/* Hidden data for modal */}
      <div 
        id={`data-${s.id}`} 
        class="hidden" 
        data-tier="community" 
        data-name={s.name} 
        data-desc={s.description} 
        data-long-desc={s.longDescription} 
        data-img={s.img.src} 
        data-url={s.url} 
        data-type={s.type}
      ></div>
    </button>
  ))}
</div>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
